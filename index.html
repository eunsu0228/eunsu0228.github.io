<!DOCTYPE html>
<html>
<head><link rel="manifest" href="/manifest.json">
<script src="https://cdn.onesignal.com/sdks/web/v16/OneSignalSDK.page.js" defer></script>
<script>
  window.OneSignalDeferred = window.OneSignalDeferred || [];
  OneSignalDeferred.push(function(onesignal) {
    onesignal.init({
        appId: "03d8daa1-4d6b-4dd3-a2c4-023dbe378e08",
    });

    // 알림 권한을 허용하는 '순간' 첫 알림을 강제로 보냄
    onesignal.Notifications.addEventListener("permissionChange", function(permission) {
        if (permission) {
            // 이 부분에 브라우저 자체 알림 기능을 활용해 즉시 메시지 표시
            new Notification("QR 체크인 성공!", {
                body: "자동으로 전송된 푸시 알림입니다.",
                icon: "본인_아이콘_주소"
            });
        }
    });
});
</script>

