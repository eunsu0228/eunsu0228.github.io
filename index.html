<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QR 알림</title>
    
    <link rel="manifest" href="/manifest.json"> 
    
    <script src="https://cdn.onesignal.com/sdks/OneSignalSDK.js" async=""></script>
    <script>
      window.OneSignal = window.OneSignal || [];
      OneSignal.push(function() {
        OneSignal.init({
          appId: "03d8daa1-4d6b-4dd3-a2c4-023dbe378e08",
          allowLocalhostAsSecureOrigin: true,
        });
      });

      // 사용자가 버튼을 눌렀을 때만 알림 권한을 요청하는 함수
      function subscribeToNotifications() {
        OneSignal.push(function() {
          OneSignal.showNativePrompt();
        });
      }
    </script>

    <style>
        body { text-align: center; font-family: sans-serif; padding-top: 50px; }
        .subscribe-btn {
            background-color: #007aff; /* 애플 스타일 파란색 */
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 18px;
            font-weight: bold;
            border-radius: 10px;
            cursor: pointer;
            margin-top: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .subscribe-btn:active { background-color: #005bb5; }
    </style>
</head>
<body>
    <h1>QR 체크인 완료</h1>
    <p>아래 버튼을 눌러야 푸시 알림을 받을 수 있습니다.</p>
    
    <button class="subscribe-btn" onclick="subscribeToNotifications()">알림 권한 허용하기</button>
</body>
</html>
